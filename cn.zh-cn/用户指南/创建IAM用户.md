# 创建IAM用户<a name="iam_02_0001"></a>

如果您是[管理员](使用前必读.md#section209491111991)，在华为云购买了多种资源，例如弹性云服务器、云硬盘、裸金属服务器等，您需要将资源分配给企业中不同的员工或者应用程序使用，为了避免分享自己的帐号密码，您可以使用IAM的用户管理功能，给员工或应用程序创建IAM用户。

默认情况下，**新创建的IAM用户没有任何权限**，管理员需要将其加入用户组，并给[用户组授权](创建用户组并授权.md)，用户组中的用户将获得用户组的权限。授权后，IAM用户就可以基于权限对云服务进行操作。

>![](public_sys-resources/icon-note.gif) **说明：** 
>如果删除并重新创建同名用户，则需要重新授权。

“admin”为缺省用户组，具有所有云服务资源的操作权限。将用户加入该用户组后，用户可以操作并使用所有云服务资源，包括但不仅限于创建用户组及用户、修改用户组权限、管理资源等。

## 操作步骤<a name="section4493316"></a>

1.  管理员登录[IAM控制台](https://console.huaweicloud.com/iam/)。
2.  在统一身份认证服务，左侧导航窗格中，选择“用户”，单击右上方的“创建用户”。
3.  在“创建用户”页面填写“用户信息”。如需一次创建多个用户，可以单击“添加用户”进行批量创建，每次最多可创建10个用户。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >-   新建IAM用户绑定手机号和邮件地址不可与帐号、其他IAM用户重复。
    >-   支持管理控制访问的IAM用户可以使用此处设置的用户名、邮件地址或手机号码任意一种方式登录华为云。
    >-   当用户忘记密码时，可以通过此处绑定的邮件地址或手机自行重置密码。如果用户没有绑定邮件地址或手机号码，只能由管理员重置密码。

4.  <a name="li19731224131114"></a>在“创建用户”页面选择“访问方式”，完成后单击“下一步”。
    -   编程访问：为IAM用户启用**访问密钥或密码**，支持用户通过API、CLI、SDK等开发工具访问云服务。
    -   管理控制台访问：为IAM用户启用**密码**，支持用户登录管理控制台访问云服务。

        >![](public_sys-resources/icon-note.gif) **说明：** 
        >-   如果IAM用户**仅需登录管理控制台访问云服务**，建议访问方式选择**管理控制台访问**，凭证类型为**密码**。
        >-   如果IAM用户**仅需编程访问云服务**，建议访问方式选择**编程访问**，凭证类型为**访问密钥**。
        >-   如果IAM用户**需要使用密码作为编程访问的凭证**（部分API要求），建议访问方式选择**编程访问**，凭证类型为**密码**。
        >-   如果IAM用户使用部分云服务时，需要在其**控制台验证访问密钥**（由IAM用户输入），建议访问方式选择**编程访问和管理控制台访问**，凭证类型为**密码和访问密钥**。例如IAM用户在控制台使用云数据迁移CDM服务创建数据迁移，需要通过访问密钥进行身份验证。

        **表 1**  配置凭证类型和登录保护

        <a name="table1874922213511"></a>
        <table><thead align="left"><tr id="row11748182245112"><th class="cellrowborder" colspan="2" valign="top" id="mcps1.2.4.1.1"><p id="p18748322115113"><a name="p18748322115113"></a><a name="p18748322115113"></a>凭证类型与登录保护</p>
        </th>
        <th class="cellrowborder" valign="top" id="mcps1.2.4.1.2"><p id="p197481322185119"><a name="p197481322185119"></a><a name="p197481322185119"></a>说明</p>
        </th>
        </tr>
        </thead>
        <tbody><tr id="row19748162213517"><td class="cellrowborder" colspan="2" valign="top" headers="mcps1.2.4.1.1 "><p id="p2074862235112"><a name="p2074862235112"></a><a name="p2074862235112"></a>访问密钥</p>
        </td>
        <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="p1249012408596"><a name="p1249012408596"></a><a name="p1249012408596"></a>创建用户完成后即可下载本次创建的所有用户的<a href="https://support.huaweicloud.com/usermanual-ca/ca_01_0003.html" target="_blank" rel="noopener noreferrer">访问密钥（AK/SK）</a>。</p>
        <p id="p1574812225511"><a name="p1574812225511"></a><a name="p1574812225511"></a><strong id="b87481722185111"><a name="b87481722185111"></a><a name="b87481722185111"></a>一个用户最多拥有两个访问密钥。</strong></p>
        </td>
        </tr>
        <tr id="row1174819221511"><td class="cellrowborder" rowspan="3" valign="top" width="10%" headers="mcps1.2.4.1.1 "><p id="p20748172219512"><a name="p20748172219512"></a><a name="p20748172219512"></a>密码</p>
        </td>
        <td class="cellrowborder" valign="top" width="10.03%" headers="mcps1.2.4.1.1 "><p id="p187487229512"><a name="p187487229512"></a><a name="p187487229512"></a>自定义</p>
        </td>
        <td class="cellrowborder" valign="top" width="79.97%" headers="mcps1.2.4.1.2 "><p id="p6306657153411"><a name="p6306657153411"></a><a name="p6306657153411"></a>自定义用户密码，并选择用户首次登录时是否需要重置密码。</p>
        <p id="p97481922105111"><a name="p97481922105111"></a><a name="p97481922105111"></a>如果您是用户的使用主体，建议您选择该方式，设置自己的登录密码，且无需勾选首次登录时重置密码。</p>
        </td>
        </tr>
        <tr id="row4748222175114"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p5748152215514"><a name="p5748152215514"></a><a name="p5748152215514"></a>自动生成</p>
        </td>
        <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p235133518598"><a name="p235133518598"></a><a name="p235133518598"></a>系统自动生成IAM用户的登录密码，创建完用户即可下载excel形式的密码文件。将密码文件提供给用户，用户使用该密码登录。</p>
        <p id="p137489221519"><a name="p137489221519"></a><a name="p137489221519"></a><strong id="b1059874314597"><a name="b1059874314597"></a><a name="b1059874314597"></a>仅在创建单个用户时适用。</strong></p>
        </td>
        </tr>
        <tr id="row1574814229516"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p1074852213510"><a name="p1074852213510"></a><a name="p1074852213510"></a>首次登录时设置</p>
        </td>
        <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p8811649432"><a name="p8811649432"></a><a name="p8811649432"></a>系统通过邮件发一次性登陆链接给用户，用户登录控制台并设置密码。</p>
        <p id="p374819225510"><a name="p374819225510"></a><a name="p374819225510"></a>如果您不是用户的使用主体，建议选择该方式，同时输入用户的邮件地址和手机，用户通过邮件中的一次性链接登录华为云，自行设置密码。该链接<strong id="b1664494710820"><a name="b1664494710820"></a><a name="b1664494710820"></a>7天</strong>内有效。</p>
        </td>
        </tr>
        <tr id="row6748222135112"><td class="cellrowborder" rowspan="2" valign="top" width="10%" headers="mcps1.2.4.1.1 "><p id="p1374813229515"><a name="p1374813229515"></a><a name="p1374813229515"></a>登录保护</p>
        </td>
        <td class="cellrowborder" valign="top" width="10.03%" headers="mcps1.2.4.1.1 "><p id="p11748102255118"><a name="p11748102255118"></a><a name="p11748102255118"></a>开启登录保护（推荐）</p>
        </td>
        <td class="cellrowborder" valign="top" width="79.97%" headers="mcps1.2.4.1.2 "><p id="p87486223514"><a name="p87486223514"></a><a name="p87486223514"></a>开启登录保护后，IAM用户登录时，除了在登录页面输入用户名和密码外（第一次身份验证），还需要在登录验证页面输入验证码（第二次身份验证），该功能是一种安全实践，建议开启登录保护，多次身份认证可以提高帐号安全性。</p>
        <p id="p774892235116"><a name="p774892235116"></a><a name="p774892235116"></a>您可以选择通过手机、邮箱、虚拟MFA进行登录验证。</p>
        </td>
        </tr>
        <tr id="row117491822205112"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p974842295111"><a name="p974842295111"></a><a name="p974842295111"></a>不开启</p>
        </td>
        <td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="p15748022155119"><a name="p15748022155119"></a><a name="p15748022155119"></a>创建完成后，如需开启登录保护，请参见：<a href="敏感操作.md#zh-cn_topic_0176803437_section6465133820464">登录保护</a>。</p>
        </td>
        </tr>
        </tbody>
        </table>

5.  单击“下一步”，将用户加入到用户组（可选）。

    -   将用户加入用户组，用户将具备用户组的权限，这一过程即**给用户授权**。
    -   如需创建新的用户组，可单击“创建用户组”，填写用户组名称和描述（可选），创建成功后即可将用户加入到新创建的用户组中。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >-   如果该用户是管理员，可以将用户加入默认用户组“admin”中。
    >-   一个用户最多可以同时加入10个用户组。

6.  单击“创建用户”，IAM用户创建完成，用户列表中显示新创建的IAM用户。
    -   如果[4](#li19731224131114)勾选了“编程访问”，可在此页面下载访问密钥。
    -   如果“[4](#li19731224131114)\>凭证类型”勾选了“密码\>自动生成”，可在此页面下载密码。

        **图 1**  创建成功<a name="fig19502114155111"></a>  
        ![](figures/创建成功.png "创建成功")



